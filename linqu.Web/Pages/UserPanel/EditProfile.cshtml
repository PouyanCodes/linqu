@page
@model linqu.Web.Pages.UserPanel.EditProfileModel
@{
    Layout = "Layouts/_UserPanelLayout";
    ViewData["Title"] = "پنل کاربری - ویرایش اطلاعات کاربری";
}



<div class="card border-0 rounded shadow">
    <div class="card-body">
        <h5 class="text-center text-primary mt-2">ویرایش اطلاعات</h5>
        <form method="post" enctype="multipart/form-data">
            <div class="mt-3 text-md-start text-center d-sm-flex">
                <img src="~/img/UserAvatar/@Model.Edit.UserAvatar" id="imgAvatar" class="avatar float-md-left avatar-medium rounded-circle shadow me-md-4" alt="">
                 <label for="file-upload" class="custom-file-upload">
                    تغیر تصویر
                </label>
                <input id="file-upload" type="file" asp-for="Edit.UserAvatarFile"/>             
            </div>

            <input type="hidden" asp-for="Edit.UserId" />
            <input type="hidden" asp-for="Edit.UserAvatar" />

            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="mb-3">
                        <label class="form-label">نام و نام خانوادگی </label>
                        <div class="form-icon position-relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-check fea icon-sm icons"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline></svg>
                            <input asp-for="Edit.FullName" type="text" class="form-control ps-5" placeholder="نام خانوادگی :">
                            <span asp-validation-for="Edit.FullName" class="text-danger"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <input type="submit" class="btn btn-primary" value="ذخیره تغییرات">
                </div>
            </div>
        </form>
    </div>
</div>


<!-- Change User Avatar In Page-->
@section Scripts
{
<script>
    function readURL(input) {

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                $('#imgAvatar').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }

    $("#Edit_UserAvatarFile").change(function() {
        readURL(this);
    });

</script>
}
